<%- include('navbar.ejs'); %>

<div id="priting_area" class="container my-5">
    <!-- Invoice Header -->
     <style>
        .invoice-header {
          background-color: #FFA500;
          color: white;
          padding: 20px;
        }
        .invoice-header h2 {
          margin: 0;
        }
        .invoice-number {
          text-align: right;
        }
        .table-invoice th, .table-invoice td {
          text-align: center;
          vertical-align: middle;
        }
        .table-invoice .text-end {
          text-align: right !important;
        }
        .product-image {
          width: 50px;
          height: 50px;
          object-fit: cover;
        }
        .footer1 {
          margin-top: 50px;
          text-align: center;
        }
        .footer-info1 {
          margin-top: 20px;
        }
     </style>
    <div class="row invoice-header">
        <div class="col-md-5">
            <h2><%=company_info.company_name%></h2>
            <p>
                <%=company_info.company_address%>
            </p>
        </div>
        <div class="col-md-7 text-end">
            <ul class="list-unstyled">
                <li><strong>Order Number :</strong> #ULTRAS345<%=order.order_id%></li>
                <li><strong>Order Date :</strong> <%=order.order_date.split("-").reverse().join("-")%></li>
            </ul>
        </div>
    </div>

    <!-- Invoice Info Section -->
    <div class="row mt-4">
        <div class="col-md-6">
            <h5>Clinent Details</h5>
            <ul class="list-unstyled">
                <li><strong>Name :</strong> <%=order.customer_name%> </li>
                <li><strong>Mobile :</strong> <%=order.customer_mobile%> </li>
                <li><strong>Address :</strong> <%=order.customer_landmark%>, <%=order.customer_area%>, <%=order.customer_city%>, <%=order.customer_district%>, <%=order.customer_state%>, pincode - <%=order.customer_address_pincode%> </li>
            </ul>
        </div>
        <div class="col-md-6 text-end">
            <h5>Payment Method</h5>
            <ul class="list-unstyled text-capitalize">
                <li><strong>Payment Mode :</strong> <%=order.payment_mode%></li>
                <li><strong>Payment :</strong> <%=order.payment_status%></li>
                <% if(order.transaction_id) { %>
                    <li><strong>Transaction ID :</strong> <%=order.transaction_id%></li>
                <% } %>
            </ul>
        </div>
    </div>

    <!-- Invoice Items Table -->
    <table class="table table-bordered table-invoice mt-4">
        <thead>
            <tr>
                <th>No.</th>
                <th>Product Image</th>
                <th>Item Description</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Amount</th>
            </tr>
        </thead>
        <tbody>
            <% for (var i=0; i<order_product.length; i++) { %> 
            <tr>
                <td><%=i+1%></td>
                <td><img src="/uploads/<%=order_product[i].product_image1%>" alt="Product Image" class="product-image"></td>
                <td class="text-start p-3">
                    <strong><%=order_product[i].product_name%></strong><br>
                    &nbsp;&nbsp;&nbsp;
                    <small>
                        <%=order_product[i].product_size%>,
                        <%=order_product[i].product_colors%>,
                        <%=order_product[i].product_company%>
                    </small>
                </td>
                <td>&#8377; <%=order_product[i].product_price%></td>
                <td><%=order_product[i].product_qty%></td>
                <td>&#8377; <%=order_product[i].product_total%></td>
            </tr>
            <% } %>
    </table>

    <!-- Summary Section -->
    <div class="row">
        <!-- <div class="col-md-6">
            <h5>Terms & Conditions</h5>
            <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text.</p>
        </div> -->
        <div class="col-md-6"></div>
        <div class="col-md-6 text-muted">
            <table class="table table-borderless">
                <tbody>
                    <tr>
                        <td class="text-end"><strong>Subtotal:</strong></td>
                        <td class="text-end">&#8377; <%=order.order_amount%> /-</td>
                    </tr>
                    <!-- <tr>
                        <td class="text-end"><strong>Tax:</strong></td>
                        <td class="text-end">$85.99</td>
                    </tr>
                    <tr>
                        <td class="text-end"><strong>Grand Total:</strong></td>
                        <td class="text-end"><strong>$796.99</strong></td>
                    </tr> -->
                </tbody>
            </table>
        </div>
    </div>

    <div class="row bg-warning">
        <div class="col-md-12 mt-1">
            <p><%=company_info.company_mobile%> | <%=company_info.company_email%> | <%=company_info.company_address%></p>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-12 text-center mt-3 mb-3">
        <button class="btn btn-primary me-2" onclick="printin()">Print Invoice</button>
        <a href="/admin/transfer_order/dispatch/<%=order.order_id%>">
            <button class="btn btn-warning me-2">Dispatch</button>
        </a>
        <a href="/admin/transfer_order/delivered/<%=order.order_id%>">
            <button class="btn btn-success me-2">Delivered</button>
        </a>
        <a href="/admin/transfer_order/reject/<%=order.order_id%>">
            <button class="btn btn-danger me-2">Reject</button>
        </a>
        <a href="/admin/transfer_order/return/<%=order.order_id%>">
            <button class="btn btn-dark me-2">Return</button>
        </a>
    </div>
</div>

<script>
    function printin(){
        var da = document.getElementById("priting_area").innerHTML;
        document.write(da);
        print();
    }
</script>

  <%- include('footer.ejs'); %>